# ---- Control plane (FastAPI) ----
APP_ENV=production
# Supabase Postgres connection string (use Supabase "Connection string" with SSL)
DATABASE_URL=postgresql+psycopg://USER:PASSWORD@HOST:6543/postgres?sslmode=require

# Supabase project URL (your project ref is the subdomain)
SUPABASE_URL=https://bkdbirrqrcifkrjeroda.supabase.co
# Optional: JWKS endpoint override (otherwise derived from SUPABASE_URL)
SUPABASE_JWKS_URL=https://bkdbirrqrcifkrjeroda.supabase.co/auth/v1/.well-known/jwks.json

# Required: internal service token used by Router to call internal APIs
ROUTER_SERVICE_TOKEN=change-me-long-random

# CORS (comma-separated)
CORS_ALLOWED_ORIGINS=https://your-admin-app.com,https://your-station-pages.com

# Security
SECURE_HEADERS_ENABLED=true
TRUSTED_PROXY_COUNT=1

# ---- Router ----
API_BASE_URL=http://api:8000
STATION_SLUG=demo-fm
LIVE_SOURCE_URL=http://icecast:8001/live
AUTODJ_SOURCE_URL=http://icecast:8001/autodj
HLS_PATH=/hls/demo-fm
POLL_SECONDS=2

# ---- Optional observability ----
SENTRY_DSN=

# ---- Web (Vercel / Next.js) ----
NEXT_PUBLIC_API_BASE_URL=https://your-api.example.com

# Router can run multiple stations:
STATION_SLUGS=demo-fm,station-2
